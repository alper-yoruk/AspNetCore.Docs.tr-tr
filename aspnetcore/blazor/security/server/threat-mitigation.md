---
title: 'ASP.NET Core için tehdit azaltma Kılavuzu :::no-loc(Blazor Server):::'
author: guardrex
description: 'Uygulamalara yönelik güvenlik tehditlerini nasıl azaltacağınızı öğrenin :::no-loc(Blazor Server)::: .'
monikerRange: '>= aspnetcore-3.1'
ms.author: riande
ms.custom: mvc
ms.date: 11/09/2020
no-loc:
- ':::no-loc(appsettings.json):::'
- ':::no-loc(ASP.NET Core Identity):::'
- ':::no-loc(cookie):::'
- ':::no-loc(Cookie):::'
- ':::no-loc(Blazor):::'
- ':::no-loc(Blazor Server):::'
- ':::no-loc(Blazor WebAssembly):::'
- ':::no-loc(Identity):::'
- ":::no-loc(Let's Encrypt):::"
- ':::no-loc(Razor):::'
- ':::no-loc(SignalR):::'
uid: blazor/security/server/threat-mitigation
ms.openlocfilehash: 0e8b26110a970526b5f6306da236a92f52e64604
ms.sourcegitcommit: fe5a287fa6b9477b130aa39728f82cdad57611ee
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2020
ms.locfileid: "94430961"
---
# <a name="threat-mitigation-guidance-for-aspnet-core-no-locblazor-server"></a><span data-ttu-id="c45f5-103">ASP.NET Core için tehdit azaltma Kılavuzu :::no-loc(Blazor Server):::</span><span class="sxs-lookup"><span data-stu-id="c45f5-103">Threat mitigation guidance for ASP.NET Core :::no-loc(Blazor Server):::</span></span>

<span data-ttu-id="c45f5-104">Sağlayan [Javier Calvarro Nelson](https://github.com/javiercn)</span><span class="sxs-lookup"><span data-stu-id="c45f5-104">By [Javier Calvarro Nelson](https://github.com/javiercn)</span></span>

<span data-ttu-id="c45f5-105">:::no-loc(Blazor Server)::: uygulamalar, sunucu ve istemcinin uzun süreli bir ilişki korumasını gerektiren, *durum bilgisi olan* bir veri işleme modelini benimseyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-105">:::no-loc(Blazor Server)::: apps adopt a *stateful* data processing model, where the server and client maintain a long-lived relationship.</span></span> <span data-ttu-id="c45f5-106">Kalıcı durum, büyük olasılıkla uzun süreli bağlantılara yayılabilen bir [devre](xref:blazor/state-management)tarafından korunur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-106">The persistent state is maintained by a [circuit](xref:blazor/state-management), which can span connections that are also potentially long-lived.</span></span>

<span data-ttu-id="c45f5-107">Bir Kullanıcı bir siteyi ziyaret ettiğinde :::no-loc(Blazor Server)::: sunucu, sunucunun belleğinde bir devre oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-107">When a user visits a :::no-loc(Blazor Server)::: site, the server creates a circuit in the server's memory.</span></span> <span data-ttu-id="c45f5-108">Devre, kullanıcının Kullanıcı ARABIRIMINDE bir düğme seçtiğinde olduğu gibi olaylara hangi içeriğin işleneceğini ve yanıt verdiğini tarayıcıya gösterir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-108">The circuit indicates to the browser what content to render and responds to events, such as when the user selects a button in the UI.</span></span> <span data-ttu-id="c45f5-109">Bu işlemleri gerçekleştirmek için, devre bir bağlantı, kullanıcının tarayıcısında ve .NET yöntemlerinde JavaScript işlevlerini çağırır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-109">To perform these actions, a circuit invokes JavaScript functions in the user's browser and .NET methods on the server.</span></span> <span data-ttu-id="c45f5-110">Bu iki yönlü JavaScript tabanlı etkileşim, [JavaScript birlikte çalışma (js birlikte çalışma)](xref:blazor/call-javascript-from-dotnet)olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-110">This two-way JavaScript-based interaction is referred to as [JavaScript interop (JS interop)](xref:blazor/call-javascript-from-dotnet).</span></span>

<span data-ttu-id="c45f5-111">JS birlikte çalışması Internet üzerinden yapıldığından ve istemci uzak bir tarayıcı kullandığından, :::no-loc(Blazor Server)::: Uygulamalar çoğu Web uygulaması güvenlik sorunlarını paylaşır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-111">Because JS interop occurs over the Internet and the client uses a remote browser, :::no-loc(Blazor Server)::: apps share most web app security concerns.</span></span> <span data-ttu-id="c45f5-112">Bu konu, uygulamalara yönelik yaygın tehditleri açıklar :::no-loc(Blazor Server)::: ve Internet 'e yönelik uygulamalara odaklanan tehdit azaltma kılavuzu sağlar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-112">This topic describes common threats to :::no-loc(Blazor Server)::: apps and provides threat mitigation guidance focused on Internet-facing apps.</span></span>

<span data-ttu-id="c45f5-113">Şirket ağları veya intranetleri gibi kısıtlı ortamlarda, azaltma yönerglarından bazıları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="c45f5-113">In constrained environments, such as inside corporate networks or intranets, some of the mitigation guidance either:</span></span>

* <span data-ttu-id="c45f5-114">Kısıtlanmış ortamda uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-114">Doesn't apply in the constrained environment.</span></span>
* <span data-ttu-id="c45f5-115">Güvenlik riski kısıtlı bir ortamda azaldığından, uygulama maliyeti değer değildir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-115">Isn't worth the cost to implement because the security risk is low in a constrained environment.</span></span>

## <a name="no-locblazor-and-shared-state"></a><span data-ttu-id="c45f5-116">:::no-loc(Blazor)::: ve paylaşılan durum</span><span class="sxs-lookup"><span data-stu-id="c45f5-116">:::no-loc(Blazor)::: and shared state</span></span>

[!INCLUDE[](~/includes/blazor-security/blazor-shared-state.md)]

## <a name="resource-exhaustion"></a><span data-ttu-id="c45f5-117">Kaynak tükenmesi</span><span class="sxs-lookup"><span data-stu-id="c45f5-117">Resource exhaustion</span></span>

<span data-ttu-id="c45f5-118">İstemci sunucuyla etkileşime geçtiğinde kaynak tükenmesi gerçekleşebilir ve sunucunun aşırı kaynak kullanmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-118">Resource exhaustion can occur when a client interacts with the server and causes the server to consume excessive resources.</span></span> <span data-ttu-id="c45f5-119">Aşırı kaynak tüketimi öncelikle şunları etkiler:</span><span class="sxs-lookup"><span data-stu-id="c45f5-119">Excessive resource consumption primarily affects:</span></span>

* [<span data-ttu-id="c45f5-120">CPU</span><span class="sxs-lookup"><span data-stu-id="c45f5-120">CPU</span></span>](#cpu)
* [<span data-ttu-id="c45f5-121">Bellek</span><span class="sxs-lookup"><span data-stu-id="c45f5-121">Memory</span></span>](#memory)
* [<span data-ttu-id="c45f5-122">İstemci bağlantıları</span><span class="sxs-lookup"><span data-stu-id="c45f5-122">Client connections</span></span>](#client-connections)

<span data-ttu-id="c45f5-123">Hizmet reddi (DoS) saldırıları genellikle bir uygulamanın veya sunucunun kaynaklarını tüketme konusunda arama yapılır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-123">Denial of service (DoS) attacks usually seek to exhaust an app or server's resources.</span></span> <span data-ttu-id="c45f5-124">Ancak, kaynak tükenmesi sistem üzerinde bir saldırının sonucu değildir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-124">However, resource exhaustion isn't necessarily the result of an attack on the system.</span></span> <span data-ttu-id="c45f5-125">Örneğin, yüksek Kullanıcı talebi nedeniyle sınırlı kaynaklar tükenebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-125">For example, finite resources can be exhausted due to high user demand.</span></span> <span data-ttu-id="c45f5-126">DoS, [hizmet reddi (DOS) saldırıları](#denial-of-service-dos-attacks) bölümünde daha fazla ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-126">DoS is covered further in the [Denial of service (DoS) attacks](#denial-of-service-dos-attacks) section.</span></span>

<span data-ttu-id="c45f5-127">:::no-loc(Blazor):::Veritabanları ve dosya tutamaçları (dosyaları okumak ve yazmak için kullanılır) gibi, çerçeveye ait dış kaynaklar da kaynak tükenmesi ile karşılaşabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-127">Resources external to the :::no-loc(Blazor)::: framework, such as databases and file handles (used to read and write files), may also experience resource exhaustion.</span></span> <span data-ttu-id="c45f5-128">Daha fazla bilgi için bkz. <xref:performance/performance-best-practices>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-128">For more information, see <xref:performance/performance-best-practices>.</span></span>

### <a name="cpu"></a><span data-ttu-id="c45f5-129">CPU</span><span class="sxs-lookup"><span data-stu-id="c45f5-129">CPU</span></span>

<span data-ttu-id="c45f5-130">Bir veya daha fazla istemci, yoğun CPU işi gerçekleştirmeye çalışan bir veya daha fazla istemci tarafından meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-130">CPU exhaustion can occur when one or more clients force the server to perform intensive CPU work.</span></span>

<span data-ttu-id="c45f5-131">Örneğin, :::no-loc(Blazor Server)::: bir *Fibonnacci numarasını* hesaplayan uygulamayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-131">For example, consider a :::no-loc(Blazor Server)::: app that calculates a *Fibonnacci number*.</span></span> <span data-ttu-id="c45f5-132">Bir Fibonnacci numarası, dizideki her bir sayının önceki iki sayının toplamı olduğu bir Fibonnacci sırasından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-132">A Fibonnacci number is produced from a Fibonnacci sequence, where each number in the sequence is the sum of the two preceding numbers.</span></span> <span data-ttu-id="c45f5-133">Yanıta ulaşmak için gereken iş miktarı, sıranın uzunluğuna ve ilk değerin boyutuna bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-133">The amount of work required to reach the answer depends on the length of the sequence and the size of the initial value.</span></span> <span data-ttu-id="c45f5-134">Uygulama bir istemcinin isteğine sınır yerleştirmezse, CPU yoğunluklu hesaplamalar CPU 'nun süresini ayırt edebilir ve diğer görevlerin performansını azalrlar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-134">If the app doesn't place limits on a client's request, the CPU-intensive calculations may dominate the CPU's time and diminish the performance of other tasks.</span></span> <span data-ttu-id="c45f5-135">Aşırı kaynak tüketimi, kullanılabilirliği etkileyen bir güvenlik konusudur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-135">Excessive resource consumption is a security concern impacting availability.</span></span>

<span data-ttu-id="c45f5-136">CPU tükenmesi, herkese açık olan tüm uygulamalar için bir sorun teşkil etmez.</span><span class="sxs-lookup"><span data-stu-id="c45f5-136">CPU exhaustion is a concern for all public-facing apps.</span></span> <span data-ttu-id="c45f5-137">Normal Web uygulamalarında, istekler ve bağlantılar bir güvenlik önlemi olarak zaman aşımına uğrar, ancak :::no-loc(Blazor Server)::: uygulamalar aynı korumaları sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-137">In regular web apps, requests and connections time out as a safeguard, but :::no-loc(Blazor Server)::: apps don't provide the same safeguards.</span></span> <span data-ttu-id="c45f5-138">:::no-loc(Blazor Server)::: uygulamalar, büyük olasılıkla CPU yoğunluklu iş yapmadan önce uygun denetimleri ve limitleri içermelidir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-138">:::no-loc(Blazor Server)::: apps must include appropriate checks and limits before performing potentially CPU-intensive work.</span></span>

### <a name="memory"></a><span data-ttu-id="c45f5-139">Bellek</span><span class="sxs-lookup"><span data-stu-id="c45f5-139">Memory</span></span>

<span data-ttu-id="c45f5-140">Bir veya daha fazla istemci, sunucuyu büyük miktarda bellek kullanmaya zorlmaya zorlarsanız bellek tükenmesi meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-140">Memory exhaustion can occur when one or more clients force the server to consume a large amount of memory.</span></span>

<span data-ttu-id="c45f5-141">Örneğin, bir :::no-loc(Blazor)::: öğe listesini kabul eden ve görüntüleyen bir bileşen ile sunucu tarafı uygulamasını düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-141">For example, consider a :::no-loc(Blazor):::-server side app with a component that accepts and displays a list of items.</span></span> <span data-ttu-id="c45f5-142">Uygulama, :::no-loc(Blazor)::: izin verilen öğe sayısı veya istemciye geri işlenen öğe sayısı için sınır yerleştirmezse, bellek yoğun işleme ve işleme sunucunun performansını sunucunun performansının bulunduğu noktaya ayırt edebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-142">If the :::no-loc(Blazor)::: app doesn't place limits on the number of items allowed or the number of items rendered back to the client, the memory-intensive processing and rendering may dominate the server's memory to the point where performance of the server suffers.</span></span> <span data-ttu-id="c45f5-143">Sunucu kilitlenmişse veya çöktüğünde göründüğü noktadan yavaş olabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-143">The server may crash or slow to the point that it appears to have crashed.</span></span>

<span data-ttu-id="c45f5-144">Sunucuda olası bir bellek tükenmesi senaryosuna ait öğelerin listesini sürdürmek ve görüntülemek için aşağıdaki senaryoyu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="c45f5-144">Consider the following scenario for maintaining and displaying a list of items that pertain to a potential memory exhaustion scenario on the server:</span></span>

* <span data-ttu-id="c45f5-145">Bir `List<MyItem>` özellik veya alandaki öğeler sunucunun belleğini kullanır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-145">The items in a `List<MyItem>` property or field use the server's memory.</span></span> <span data-ttu-id="c45f5-146">Uygulama, öğelerin listesinin sınırsız olarak büyümesine izin veriyorsa, sunucunun belleği tükenmeye karşı bir risk vardır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-146">If the app allows the list of items to grow unbounded, there's a risk of the server running out of memory.</span></span> <span data-ttu-id="c45f5-147">Belleğin tükenmesinin geçerli oturum sonlandırmasına (kilitlenme) ve bu sunucu örneğindeki tüm eşzamanlı oturumlara bir bellek dışı özel durum almasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-147">Running out of memory causes the current session to end (crash) and all of the concurrent sessions in that server instance receive an out-of-memory exception.</span></span> <span data-ttu-id="c45f5-148">Bu senaryonun oluşmasını önlemek için, uygulamanın eşzamanlı kullanıcılara bir öğe sınırı uygulayan bir veri yapısı kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-148">To prevent this scenario from occurring, the app must use a data structure that imposes an item limit on concurrent users.</span></span>
* <span data-ttu-id="c45f5-149">Bir sayfalama şeması işleme için kullanılmazsa, sunucu Kullanıcı arabiriminde görünmeyen nesneler için ek bellek kullanır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-149">If a paging scheme isn't used for rendering, the server uses additional memory for objects that aren't visible in the UI.</span></span> <span data-ttu-id="c45f5-150">Öğe sayısı sınırı olmadan, bellek talepleri kullanılabilir sunucu belleğini tüketebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-150">Without a limit on the number of items, memory demands may exhaust the available server memory.</span></span> <span data-ttu-id="c45f5-151">Bu senaryoyu engellemek için aşağıdaki yaklaşımlardan birini kullanın:</span><span class="sxs-lookup"><span data-stu-id="c45f5-151">To prevent this scenario, use one of the following approaches:</span></span>
  * <span data-ttu-id="c45f5-152">İşleme sırasında sayfalandırılmış listeler kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-152">Use paginated lists when rendering.</span></span>
  * <span data-ttu-id="c45f5-153">Yalnızca ilk 100 ' i 1.000 öğeyi görüntüleyin ve kullanıcının görüntülenen öğelerin ötesinde öğeleri bulmak için arama ölçütü girmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-153">Only display the first 100 to 1,000 items and require the user to enter search criteria to find items beyond the items displayed.</span></span>
  * <span data-ttu-id="c45f5-154">Daha gelişmiş bir işleme senaryosu için *sanallaştırmayı* destekleyen listeler veya kılavuzlar uygulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-154">For a more advanced rendering scenario, implement lists or grids that support *virtualization*.</span></span> <span data-ttu-id="c45f5-155">Sanallaştırma kullanarak, listeler yalnızca kullanıcıya şu anda görünür olan öğelerin bir alt kümesini işler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-155">Using virtualization, lists only render a subset of items currently visible to the user.</span></span> <span data-ttu-id="c45f5-156">Kullanıcı ARABIRIMDEKI ScrollBar ile etkileşime geçtiğinde, bileşen yalnızca görüntüleme için gereken öğeleri işler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-156">When the user interacts with the scrollbar in the UI, the component renders only those items required for display.</span></span> <span data-ttu-id="c45f5-157">Şu anda görüntülenmek üzere gerekli olmayan öğeler, en ideal yaklaşım olan ikincil depolamada tutulabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-157">The items that aren't currently required for display can be held in secondary storage, which is the ideal approach.</span></span> <span data-ttu-id="c45f5-158">Görüntülenmezler olmayan öğeler bellekte tutulabilir ve bu da daha az idealdir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-158">Undisplayed items can also be held in memory, which is less ideal.</span></span>

<span data-ttu-id="c45f5-159">:::no-loc(Blazor Server)::: uygulamalar, WPF, Windows Forms veya gibi durum bilgisi olan uygulamalar için diğer kullanıcı arabirimi çerçevelerine benzer bir programlama modeli sunar :::no-loc(Blazor WebAssembly)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-159">:::no-loc(Blazor Server)::: apps offer a similar programming model to other UI frameworks for stateful apps, such as WPF, Windows Forms, or :::no-loc(Blazor WebAssembly):::.</span></span> <span data-ttu-id="c45f5-160">Ana fark, uygulama tarafından tüketilen belleğin, istemciye ait olduğu ve yalnızca o tek istemciyi etkilediği bazı Kullanıcı arabirimi çerçevelerinden biridir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-160">The main difference is that in several of the UI frameworks the memory consumed by the app belongs to the client and only affects that individual client.</span></span> <span data-ttu-id="c45f5-161">Örneğin, bir :::no-loc(Blazor WebAssembly)::: uygulama tamamen istemcide çalışır ve yalnızca istemci bellek kaynaklarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-161">For example, a :::no-loc(Blazor WebAssembly)::: app runs entirely on the client and only uses client memory resources.</span></span> <span data-ttu-id="c45f5-162">:::no-loc(Blazor Server):::Senaryoda, uygulama tarafından tüketilen bellek sunucuya aittir ve sunucu örneğindeki istemciler arasında paylaşılır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-162">In the :::no-loc(Blazor Server)::: scenario, the memory consumed by the app belongs to the server and is shared among clients on the server instance.</span></span>

<span data-ttu-id="c45f5-163">Sunucu tarafı bellek taleplerine tüm uygulamalar göz önünde bulundurulmalıdır :::no-loc(Blazor Server)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-163">Server-side memory demands are a consideration for all :::no-loc(Blazor Server)::: apps.</span></span> <span data-ttu-id="c45f5-164">Ancak, çoğu Web uygulaması durum bilgisiz olur ve bir isteği işlerken kullanılan bellek, yanıt döndürüldüğünde serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-164">However, most web apps are stateless, and the memory used while processing a request is released when the response is returned.</span></span> <span data-ttu-id="c45f5-165">Genel bir öneri olarak, istemcilerin, istemci bağlantılarını devam eden diğer tüm sunucu tarafı uygulamalarda olduğu gibi ilişkisiz miktarda bellek ayırmasına izin vermez.</span><span class="sxs-lookup"><span data-stu-id="c45f5-165">As a general recommendation, don't permit clients to allocate an unbound amount of memory as in any other server-side app that persists client connections.</span></span> <span data-ttu-id="c45f5-166">Bir uygulama tarafından tüketilen bellek, :::no-loc(Blazor Server)::: tek bir istekten daha uzun bir süre devam ettirir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-166">The memory consumed by a :::no-loc(Blazor Server)::: app persists for a longer time than a single request.</span></span>

> [!NOTE]
> <span data-ttu-id="c45f5-167">Geliştirme sırasında, bir profil oluşturucu kullanılabilir veya istemci bellek taleplerini değerlendirmek için yakalanan bir izleme olabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-167">During development, a profiler can be used or a trace captured to assess memory demands of clients.</span></span> <span data-ttu-id="c45f5-168">Profil Oluşturucu veya izleme, belirli bir istemciye ayrılan belleği yakalamaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-168">A profiler or trace won't capture the memory allocated to a specific client.</span></span> <span data-ttu-id="c45f5-169">Geliştirme sırasında belirli bir istemcinin bellek kullanımını yakalamak için, bir döküm yakalayın ve Kullanıcı devresi içinde kök olan tüm nesnelerin bellek talebini inceleyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-169">To capture the memory use of a specific client during development, capture a dump and examine the memory demand of all the objects rooted at a user's circuit.</span></span>

### <a name="client-connections"></a><span data-ttu-id="c45f5-170">İstemci bağlantıları</span><span class="sxs-lookup"><span data-stu-id="c45f5-170">Client connections</span></span>

<span data-ttu-id="c45f5-171">Bir veya daha fazla istemci sunucuya çok fazla eş zamanlı bağlantı açtıklarında, diğer istemcilerin yeni bağlantı kurmasını engellediğinden bağlantı tükenmesi meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-171">Connection exhaustion can occur when one or more clients open too many concurrent connections to the server, preventing other clients from establishing new connections.</span></span>

<span data-ttu-id="c45f5-172">:::no-loc(Blazor)::: istemciler, oturum başına tek bir bağlantı kurar ve tarayıcı penceresi açık olduğu sürece bağlantıyı açık halde tutar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-172">:::no-loc(Blazor)::: clients establish a single connection per session and keep the connection open for as long as the browser window is open.</span></span> <span data-ttu-id="c45f5-173">Tüm bağlantıları koruma sunucusundaki talepler uygulamalara özgü değildir :::no-loc(Blazor)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-173">The demands on the server of maintaining all of the connections isn't specific to :::no-loc(Blazor)::: apps.</span></span> <span data-ttu-id="c45f5-174">Bağlantıların kalıcı doğası ve uygulamaların durum bilgisi olan doğası göz önüne alındığında :::no-loc(Blazor Server)::: , bağlantı tükenmesi uygulamanın kullanılabilirliğine daha fazla risk taşır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-174">Given the persistent nature of the connections and the stateful nature of :::no-loc(Blazor Server)::: apps, connection exhaustion is a greater risk to availability of the app.</span></span>

<span data-ttu-id="c45f5-175">Varsayılan olarak, bir uygulama için Kullanıcı başına bağlantı sayısı sınırı yoktur :::no-loc(Blazor Server)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-175">By default, there's no limit on the number of connections per user for a :::no-loc(Blazor Server)::: app.</span></span> <span data-ttu-id="c45f5-176">Uygulama bir bağlantı sınırı gerektiriyorsa aşağıdaki yaklaşımlardan birini veya daha fazlasını yapın:</span><span class="sxs-lookup"><span data-stu-id="c45f5-176">If the app requires a connection limit, take one or more of the following approaches:</span></span>

* <span data-ttu-id="c45f5-177">Yetkisiz kullanıcıların uygulamaya bağlanma yeteneğini doğal olarak sınırlayan kimlik doğrulaması gerektir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-177">Require authentication, which naturally limits the ability of unauthorized users to connect to the app.</span></span> <span data-ttu-id="c45f5-178">Bu senaryonun etkili olabilmesi için kullanıcıların, ' de Yeni Kullanıcı sağlaması engellenmelidir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-178">For this scenario to be effective, users must be prevented from provisioning new users at will.</span></span>
* <span data-ttu-id="c45f5-179">Kullanıcı başına bağlantı sayısını sınırlayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-179">Limit the number of connections per user.</span></span> <span data-ttu-id="c45f5-180">Bağlantıları sınırlandırma, aşağıdaki yaklaşımlar aracılığıyla gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-180">Limiting connections can be accomplished via the following approaches.</span></span> <span data-ttu-id="c45f5-181">Meşru kullanıcıların uygulamaya erişmesine izin vermeye özen gösterin (örneğin, istemcinin IP adresine göre bir bağlantı sınırı oluşturulduğunda).</span><span class="sxs-lookup"><span data-stu-id="c45f5-181">Exercise care to allow legitimate users to access the app (for example, when a connection limit is established based on the client's IP address).</span></span>
  * <span data-ttu-id="c45f5-182">Uygulama düzeyinde:</span><span class="sxs-lookup"><span data-stu-id="c45f5-182">At the app level:</span></span>
    * <span data-ttu-id="c45f5-183">Uç nokta yönlendirme genişletilebilirliği.</span><span class="sxs-lookup"><span data-stu-id="c45f5-183">Endpoint routing extensibility.</span></span>
    * <span data-ttu-id="c45f5-184">Uygulamaya bağlanmak ve Kullanıcı başına etkin oturumları izlemek için kimlik doğrulaması gerektir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-184">Require authentication to connect to the app and keep track of the active sessions per user.</span></span>
    * <span data-ttu-id="c45f5-185">Sınıra ulaştıktan sonra yeni oturumları reddedin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-185">Reject new sessions upon reaching a limit.</span></span>
    * <span data-ttu-id="c45f5-186">İstemcilerden bir uygulamaya bağlantı oluşturan [Azure :::no-loc(SignalR)::: hizmeti](/azure/azure-signalr/signalr-overview) gibi bir ara sunucu aracılığıyla uygulamaya yönelik proxy WebSocket bağlantıları.</span><span class="sxs-lookup"><span data-stu-id="c45f5-186">Proxy WebSocket connections to an app through the use of a proxy, such as the [Azure :::no-loc(SignalR)::: Service](/azure/azure-signalr/signalr-overview) that multiplexes connections from clients to an app.</span></span> <span data-ttu-id="c45f5-187">Bu, tek bir istemcinin yapabileceğinden daha fazla bağlantı kapasitesine sahip bir uygulama sağlar ve istemcinin sunucu bağlantılarını tüketmesini önler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-187">This provides an app with greater connection capacity than a single client can establish, preventing a client from exhausting the connections to the server.</span></span>
  * <span data-ttu-id="c45f5-188">Sunucu düzeyinde: uygulamanın önünde bir proxy/ağ geçidi kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-188">At the server level: Use a proxy/gateway in front of the app.</span></span> <span data-ttu-id="c45f5-189">Örneğin, [Azure ön kapısı](/azure/frontdoor/front-door-overview) , Web trafiğinin bir uygulamaya genel yönlendirilmesini tanımlamanıza, yönetmenize ve izlemenize olanak sağlar ve :::no-loc(Blazor Server)::: uygulamalar uzun yoklamayı kullanacak şekilde yapılandırıldığında bu işe yarar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-189">For example, [Azure Front Door](/azure/frontdoor/front-door-overview) enables you to define, manage, and monitor the global routing of web traffic to an app and works when :::no-loc(Blazor Server)::: apps are configured to use Long Polling.</span></span>
  
    > [!NOTE]
    > <span data-ttu-id="c45f5-190">Uygulamalar için uzun yoklama desteklense de :::no-loc(Blazor Server)::: , [WebSockets önerilen aktarım protokolüdür](xref:blazor/host-and-deploy/server#azure-signalr-service).</span><span class="sxs-lookup"><span data-stu-id="c45f5-190">Although Long Polling is supported for :::no-loc(Blazor Server)::: apps, [WebSockets is the recommended transport protocol](xref:blazor/host-and-deploy/server#azure-signalr-service).</span></span> <span data-ttu-id="c45f5-191">[Azure ön kapısının](/azure/frontdoor/front-door-overview) Şu anda WebSockets desteği yoktur, ancak WebSockets desteği, hizmetin gelecek bir sürümü için göz önünde bulundurulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-191">[Azure Front Door](/azure/frontdoor/front-door-overview) doesn't support WebSockets at this time, but support for WebSockets is under consideration for a future release of the service.</span></span>

## <a name="denial-of-service-dos-attacks"></a><span data-ttu-id="c45f5-192">Hizmet reddi (DoS) saldırıları</span><span class="sxs-lookup"><span data-stu-id="c45f5-192">Denial of service (DoS) attacks</span></span>

<span data-ttu-id="c45f5-193">Hizmet reddi (DoS) saldırıları, istemcinin bir veya daha fazla kaynağın bir veya daha fazla uygulamayı tüketmesine neden olan bir istemciyi içerir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-193">Denial of service (DoS) attacks involve a client causing the server to exhaust one or more of its resources making the app unavailable.</span></span> <span data-ttu-id="c45f5-194">:::no-loc(Blazor Server)::: uygulamalar, bazı varsayılan limitleri içerir ve :::no-loc(SignalR)::: açık olan DOS saldırılarına karşı korumak için diğer ASP.NET Core ve limitlere güvenir <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-194">:::no-loc(Blazor Server)::: apps include some default limits and rely on other ASP.NET Core and :::no-loc(SignalR)::: limits to protect against DoS attacks that are set on <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions>.</span></span>

| <span data-ttu-id="c45f5-195">:::no-loc(Blazor Server)::: uygulama sınırı</span><span class="sxs-lookup"><span data-stu-id="c45f5-195">:::no-loc(Blazor Server)::: app limit</span></span> | <span data-ttu-id="c45f5-196">Description</span><span class="sxs-lookup"><span data-stu-id="c45f5-196">Description</span></span> | <span data-ttu-id="c45f5-197">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="c45f5-197">Default</span></span> |
| --- | --- | --- |
| <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DisconnectedCircuitMaxRetained> | <span data-ttu-id="c45f5-198">Belirli bir sunucunun bellekte tek seferde tuttuğu bağlantı kesilen en fazla bağlantı sayısı.</span><span class="sxs-lookup"><span data-stu-id="c45f5-198">Maximum number of disconnected circuits that a given server holds in memory at a time.</span></span> | <span data-ttu-id="c45f5-199">100</span><span class="sxs-lookup"><span data-stu-id="c45f5-199">100</span></span> |
| <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DisconnectedCircuitRetentionPeriod> | <span data-ttu-id="c45f5-200">Bağlantısı kesilmiş bir devre dışı bırakılmadan önce bellekte tutulan en fazla süre.</span><span class="sxs-lookup"><span data-stu-id="c45f5-200">Maximum amount of time a disconnected circuit is held in memory before being torn down.</span></span> | <span data-ttu-id="c45f5-201">3 dakika</span><span class="sxs-lookup"><span data-stu-id="c45f5-201">3 minutes</span></span> |
| <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.JSInteropDefaultCallTimeout> | <span data-ttu-id="c45f5-202">Zaman uyumsuz bir JavaScript işlev çağrısını zaman aşımına uğramadan önce sunucunun bekleyeceği en fazla süre.</span><span class="sxs-lookup"><span data-stu-id="c45f5-202">Maximum amount of time the server waits before timing out an asynchronous JavaScript function invocation.</span></span> | <span data-ttu-id="c45f5-203">1 dakika</span><span class="sxs-lookup"><span data-stu-id="c45f5-203">1 minute</span></span> |
| <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.MaxBufferedUnacknowledgedRenderBatches> | <span data-ttu-id="c45f5-204">En fazla bildirilmemiş işleme toplu işi sayısı sunucu, güçlü yeniden bağlanmayı desteklemek için belirli bir zamanda her bir devreye göre bellekte kalır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-204">Maximum number of unacknowledged render batches the server keeps in memory per circuit at a given time to support robust reconnection.</span></span> <span data-ttu-id="c45f5-205">Sınıra ulaştıktan sonra sunucu, bir veya daha fazla toplu iş istemci tarafından onaylanana kadar yeni oluşturma toplu işleri oluşturmayı durduruyor.</span><span class="sxs-lookup"><span data-stu-id="c45f5-205">After reaching the limit, the server stops producing new render batches until one or more batches have been acknowledged by the client.</span></span> | <span data-ttu-id="c45f5-206">10</span><span class="sxs-lookup"><span data-stu-id="c45f5-206">10</span></span> |

<span data-ttu-id="c45f5-207">Tek bir gelen hub iletisinin en büyük ileti boyutunu ile ayarlayın <xref:Microsoft.AspNetCore.:::no-loc(SignalR):::.HubConnectionContextOptions> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-207">Set the maximum message size of a single incoming hub message with <xref:Microsoft.AspNetCore.:::no-loc(SignalR):::.HubConnectionContextOptions>.</span></span>

| <span data-ttu-id="c45f5-208">:::no-loc(SignalR)::: ve ASP.NET Core sınırı</span><span class="sxs-lookup"><span data-stu-id="c45f5-208">:::no-loc(SignalR)::: and ASP.NET Core limit</span></span> | <span data-ttu-id="c45f5-209">Description</span><span class="sxs-lookup"><span data-stu-id="c45f5-209">Description</span></span> | <span data-ttu-id="c45f5-210">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="c45f5-210">Default</span></span> |
| --- | --- | --- |
| <xref:Microsoft.AspNetCore.:::no-loc(SignalR):::.HubConnectionContextOptions.MaximumReceiveMessageSize?displayProperty=nameWithType> | <span data-ttu-id="c45f5-211">Tek bir ileti için ileti boyutu.</span><span class="sxs-lookup"><span data-stu-id="c45f5-211">Message size for an individual message.</span></span> | <span data-ttu-id="c45f5-212">32 KB</span><span class="sxs-lookup"><span data-stu-id="c45f5-212">32 KB</span></span> |

## <a name="interactions-with-the-browser-client"></a><span data-ttu-id="c45f5-213">Tarayıcıyla etkileşimler (istemci)</span><span class="sxs-lookup"><span data-stu-id="c45f5-213">Interactions with the browser (client)</span></span>

<span data-ttu-id="c45f5-214">İstemci, JS birlikte çalışma olayı gönderme ve işleme tamamlama aracılığıyla sunucuyla etkileşime girer.</span><span class="sxs-lookup"><span data-stu-id="c45f5-214">A client interacts with the server through JS interop event dispatching and render completion.</span></span> <span data-ttu-id="c45f5-215">JS birlikte çalışma iletişimi, JavaScript ve .NET arasında her iki yolla da geçer:</span><span class="sxs-lookup"><span data-stu-id="c45f5-215">JS interop communication goes both ways between JavaScript and .NET:</span></span>

* <span data-ttu-id="c45f5-216">Tarayıcı olayları istemciden sunucuya zaman uyumsuz biçimde gönderilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-216">Browser events are dispatched from the client to the server in an asynchronous fashion.</span></span>
* <span data-ttu-id="c45f5-217">Sunucu, gerektiği şekilde kullanıcı arabiriminden zaman uyumsuz olarak rerendering.</span><span class="sxs-lookup"><span data-stu-id="c45f5-217">The server responds asynchronously rerendering the UI as necessary.</span></span>

### <a name="javascript-functions-invoked-from-net"></a><span data-ttu-id="c45f5-218">.NET 'ten çağrılan JavaScript işlevleri</span><span class="sxs-lookup"><span data-stu-id="c45f5-218">JavaScript functions invoked from .NET</span></span>

<span data-ttu-id="c45f5-219">.NET yöntemlerinden JavaScript 'e yapılan çağrılar için:</span><span class="sxs-lookup"><span data-stu-id="c45f5-219">For calls from .NET methods to JavaScript:</span></span>

* <span data-ttu-id="c45f5-220">Tüm etkinleştirmeleri, başarısız olduktan sonra, arayana döndüren yapılandırılabilir bir zaman aşımı süresine sahiptir <xref:System.OperationCanceledException> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-220">All invocations have a configurable timeout after which they fail, returning a <xref:System.OperationCanceledException> to the caller.</span></span>
  * <span data-ttu-id="c45f5-221">Bir dakikalık çağrılar () için varsayılan bir zaman aşımı süresi vardır <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.JSInteropDefaultCallTimeout?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-221">There's a default timeout for the calls (<xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.JSInteropDefaultCallTimeout?displayProperty=nameWithType>) of one minute.</span></span> <span data-ttu-id="c45f5-222">Bu sınırı yapılandırmak için bkz <xref:blazor/call-javascript-from-dotnet#harden-js-interop-calls> ..</span><span class="sxs-lookup"><span data-stu-id="c45f5-222">To configure this limit, see <xref:blazor/call-javascript-from-dotnet#harden-js-interop-calls>.</span></span>
  * <span data-ttu-id="c45f5-223">İptal belirtecini çağrı başına temelinde denetlemek için bir iptal belirteci sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-223">A cancellation token can be provided to control the cancellation on a per-call basis.</span></span> <span data-ttu-id="c45f5-224">Bir iptal belirteci sağlandıysa, mümkün olan ve istemciye yapılan tüm çağrıların zaman içinde sağlandığı varsayılan çağrı zaman aşımını kullanır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-224">Rely on the default call timeout where possible and time-bound any call to the client if a cancellation token is provided.</span></span>
* <span data-ttu-id="c45f5-225">JavaScript çağrısının sonucu güvenilir olamaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-225">The result of a JavaScript call can't be trusted.</span></span> <span data-ttu-id="c45f5-226">:::no-loc(Blazor):::Tarayıcıda çalışan uygulama istemcisi çağırmak Için JavaScript işlevini arar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-226">The :::no-loc(Blazor)::: app client running in the browser searches for the JavaScript function to invoke.</span></span> <span data-ttu-id="c45f5-227">İşlev çağrılır ve sonuç ya da bir hata oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-227">The function is invoked, and either the result or an error is produced.</span></span> <span data-ttu-id="c45f5-228">Kötü amaçlı bir istemci şunları gerçekleştirmeye çalışabilir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-228">A malicious client can attempt to:</span></span>
  * <span data-ttu-id="c45f5-229">JavaScript işlevinden bir hata döndürerek uygulamada sorun oluşmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-229">Cause an issue in the app by returning an error from the JavaScript function.</span></span>
  * <span data-ttu-id="c45f5-230">JavaScript işlevinden beklenmeyen bir sonuç döndürerek sunucuda istemeden bir davranış alır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-230">Induce an unintended behavior on the server by returning an unexpected result from the JavaScript function.</span></span>

<span data-ttu-id="c45f5-231">Yukarıdaki senaryolara karşı koruma için aşağıdaki önlemleri alın:</span><span class="sxs-lookup"><span data-stu-id="c45f5-231">Take the following precautions to guard against the preceding scenarios:</span></span>

* <span data-ttu-id="c45f5-232">[`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch)Çağırma sırasında oluşabilecek hataları hesaba eklemek için DEYIMLERDEKI js birlikte çalışma çağrılarını sarın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-232">Wrap JS interop calls within [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statements to account for errors that might occur during the invocations.</span></span> <span data-ttu-id="c45f5-233">Daha fazla bilgi için bkz. <xref:blazor/fundamentals/handle-errors#javascript-interop>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-233">For more information, see <xref:blazor/fundamentals/handle-errors#javascript-interop>.</span></span>
* <span data-ttu-id="c45f5-234">Herhangi bir işlem yapmadan önce, hata iletileri de dahil olmak üzere JS birlikte çalışma çağırmaları tarafından döndürülen verileri doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-234">Validate data returned from JS interop invocations, including error messages, before taking any action.</span></span>

### <a name="net-methods-invoked-from-the-browser"></a><span data-ttu-id="c45f5-235">Tarayıcıdan çağrılan .NET yöntemleri</span><span class="sxs-lookup"><span data-stu-id="c45f5-235">.NET methods invoked from the browser</span></span>

<span data-ttu-id="c45f5-236">JavaScript 'e yönelik çağrılara .NET yöntemlerine güvenmeyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-236">Don't trust calls from JavaScript to .NET methods.</span></span> <span data-ttu-id="c45f5-237">JavaScript 'e bir .NET yöntemi sunulduğunda, .NET yönteminin nasıl çağrılacağını göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="c45f5-237">When a .NET method is exposed to JavaScript, consider how the .NET method is invoked:</span></span>

* <span data-ttu-id="c45f5-238">Uygulamaya genel bir uç nokta gibi, JavaScript 'e sunulan tüm .NET metodunu değerlendirin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-238">Treat any .NET method exposed to JavaScript as you would a public endpoint to the app.</span></span>
  * <span data-ttu-id="c45f5-239">Girişi doğrula.</span><span class="sxs-lookup"><span data-stu-id="c45f5-239">Validate input.</span></span>
    * <span data-ttu-id="c45f5-240">Değerlerin beklenen aralıklar içinde olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-240">Ensure that values are within expected ranges.</span></span>
    * <span data-ttu-id="c45f5-241">Kullanıcının istenen eylemi gerçekleştirme izni olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-241">Ensure that the user has permission to perform the action requested.</span></span>
  * <span data-ttu-id="c45f5-242">.NET Yöntem çağırma kapsamında aşırı miktarda kaynak ayırmayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-242">Don't allocate an excessive quantity of resources as part of the .NET method invocation.</span></span> <span data-ttu-id="c45f5-243">Örneğin, denetim gerçekleştirin ve CPU ve bellek kullanımı için sınır koyun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-243">For example, perform checks and place limits on CPU and memory use.</span></span>
  * <span data-ttu-id="c45f5-244">Statik ve örnek yöntemlerinin JavaScript istemcilerine sunutabileceğiniz hesaba sahip olun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-244">Take into account that static and instance methods can be exposed to JavaScript clients.</span></span> <span data-ttu-id="c45f5-245">Tasarım, uygun kısıtlamalarla durum paylaşma için çağrı yaptığı müddetçe, oturumlar arasında durum paylaşmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-245">Avoid sharing state across sessions unless the design calls for sharing state with appropriate constraints.</span></span>
    * <span data-ttu-id="c45f5-246">`DotNetReference`İlk olarak bağımlılık ekleme (dı) aracılığıyla oluşturulan nesneler aracılığıyla kullanıma sunulan örnek yöntemleri için nesnelerin kapsamlı nesneler olarak kaydedilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-246">For instance methods exposed through `DotNetReference` objects that are originally created through dependency injection (DI), the objects should be registered as scoped objects.</span></span> <span data-ttu-id="c45f5-247">Bu, uygulamanın kullandığı tüm DI Hizmetleri için geçerlidir :::no-loc(Blazor Server)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-247">This applies to any DI service that the :::no-loc(Blazor Server)::: app uses.</span></span>
    * <span data-ttu-id="c45f5-248">Statik yöntemler için, uygulama bir sunucu örneğindeki tüm kullanıcılar genelinde durum tasarımını özel olarak paylaşmadığı müddetçe, istemciye kapsamdaki durumu oluşturmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-248">For static methods, avoid establishing state that can't be scoped to the client unless the app is explicitly sharing state by-design across all users on a server instance.</span></span>
  * <span data-ttu-id="c45f5-249">Parametrelerde Kullanıcı tarafından sağlanan verileri JavaScript çağrılarına geçirmekten kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-249">Avoid passing user-supplied data in parameters to JavaScript calls.</span></span> <span data-ttu-id="c45f5-250">Parametrelerde veri geçirilmesi kesinlikle gerekliyse, JavaScript kodunun, [siteler arası betik oluşturma (XSS)](#cross-site-scripting-xss) güvenlik açıklarına gerek kalmadan verileri geçirmeyi işlediğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-250">If passing data in parameters is absolutely required, ensure that the JavaScript code handles passing the data without introducing [Cross-site scripting (XSS)](#cross-site-scripting-xss) vulnerabilities.</span></span> <span data-ttu-id="c45f5-251">Örneğin, bir öğenin özelliğini ayarlayarak Belge Nesne Modeli (DOM) Kullanıcı tarafından sağlanan verileri yazma `innerHTML` .</span><span class="sxs-lookup"><span data-stu-id="c45f5-251">For example, don't write user-supplied data to the Document Object Model (DOM) by setting the `innerHTML` property of an element.</span></span> <span data-ttu-id="c45f5-252">Devre dışı bırakmak için [Içerik güvenlik ilkesi 'ni (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) `eval` ve diğer güvenli olmayan JavaScript temel öğelerini kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-252">Consider using [Content Security Policy (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) to disable `eval` and other unsafe JavaScript primitives.</span></span>
* <span data-ttu-id="c45f5-253">Framework 'ün gönderme uygulamasının en üstünde .NET etkinleştirmeleri için özel bir dağıtma uygulamaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-253">Avoid implementing custom dispatching of .NET invocations on top of the framework's dispatching implementation.</span></span> <span data-ttu-id="c45f5-254">.NET yöntemlerini tarayıcıya sunma, genel geliştirme için önerilmeyen gelişmiş bir senaryodur :::no-loc(Blazor)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-254">Exposing .NET methods to the browser is an advanced scenario, not recommended for general :::no-loc(Blazor)::: development.</span></span>

### <a name="events"></a><span data-ttu-id="c45f5-255">Ekinlikler</span><span class="sxs-lookup"><span data-stu-id="c45f5-255">Events</span></span>

<span data-ttu-id="c45f5-256">Olaylar bir uygulamaya giriş noktası sağlar :::no-loc(Blazor Server)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-256">Events provide an entry point to a :::no-loc(Blazor Server)::: app.</span></span> <span data-ttu-id="c45f5-257">Web Apps 'teki uç noktaları koruma için aynı kurallar, uygulamalardaki olay işleme için geçerlidir :::no-loc(Blazor Server)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-257">The same rules for safeguarding endpoints in web apps apply to event handling in :::no-loc(Blazor Server)::: apps.</span></span> <span data-ttu-id="c45f5-258">Kötü amaçlı bir istemci, istediği verileri bir olay için yük olarak gönderebilirler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-258">A malicious client can send any data it wishes to send as the payload for an event.</span></span>

<span data-ttu-id="c45f5-259">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="c45f5-259">For example:</span></span>

* <span data-ttu-id="c45f5-260">Bir için değişiklik olayı `<select>` , uygulamanın istemciye sunulan seçenekler içinde olmayan bir değer gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-260">A change event for a `<select>` could send a value that isn't within the options that the app presented to the client.</span></span>
* <span data-ttu-id="c45f5-261">`<input>`Sunucu, istemci tarafı doğrulamayı atlayarak herhangi bir metin verisi gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-261">An `<input>` could send any text data to the server, bypassing client-side validation.</span></span>

<span data-ttu-id="c45f5-262">Uygulamanın, uygulamanın işlediği herhangi bir olay için verileri doğrulaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-262">The app must validate the data for any event that the app handles.</span></span> <span data-ttu-id="c45f5-263">:::no-loc(Blazor):::Framework [Forms bileşenleri](xref:blazor/forms-validation) temel doğrulamaları gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-263">The :::no-loc(Blazor)::: framework [forms components](xref:blazor/forms-validation) perform basic validations.</span></span> <span data-ttu-id="c45f5-264">Uygulama özel form bileşenleri kullanıyorsa, olay verilerinin uygun şekilde doğrulanması için özel kodun yazılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-264">If the app uses custom forms components, custom code must be written to validate event data as appropriate.</span></span>

<span data-ttu-id="c45f5-265">:::no-loc(Blazor Server)::: olaylar zaman uyumsuzdur, bu nedenle uygulamanın yeni bir işleme oluşturarak tepki verme süresi geçmeden önce sunucuya birden çok olay gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-265">:::no-loc(Blazor Server)::: events are asynchronous, so multiple events can be dispatched to the server before the app has time to react by producing a new render.</span></span> <span data-ttu-id="c45f5-266">Göz önünde bulundurulması gereken bazı güvenlik etkileri vardır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-266">This has some security implications to consider.</span></span> <span data-ttu-id="c45f5-267">Uygulamadaki istemci eylemlerinin sınırlandırmasının, olay işleyicileri içinde gerçekleştirilmesi ve geçerli işlenen görünüm durumuna bağlı olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-267">Limiting client actions in the app must be performed inside event handlers and not depend on the current rendered view state.</span></span>

<span data-ttu-id="c45f5-268">Bir kullanıcının bir sayacı en fazla üç kez artmasını sağlayan bir sayaç bileşeni düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-268">Consider a counter component that should allow a user to increment a counter a maximum of three times.</span></span> <span data-ttu-id="c45f5-269">Sayacı artırma düğmesi şu değere göre koşullu olarak belirlenir `count` :</span><span class="sxs-lookup"><span data-stu-id="c45f5-269">The button to increment the counter is conditionally based on the value of `count`:</span></span>

```razor
<p>Count: @count<p>

@if (count < 3)
{
    <button @onclick="IncrementCount" value="Increment count" />
}

@code 
{
    private int count = 0;

    private void IncrementCount()
    {
        count++;
    }
}
```

<span data-ttu-id="c45f5-270">Bir istemci, çerçeve bu bileşenin yeni bir işlemesini oluşturmadan önce bir veya daha fazla artış olayı gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-270">A client can dispatch one or more increment events before the framework produces a new render of this component.</span></span> <span data-ttu-id="c45f5-271">Bunun sonucunda, `count` düğme UI tarafından yeterince hızlı bir şekilde kaldırılmadığı için Kullanıcı tarafından *üç kez* arttırılabilirler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-271">The result is that the `count` can be incremented *over three times* by the user because the button isn't removed by the UI quickly enough.</span></span> <span data-ttu-id="c45f5-272">Üç artımdan oluşan sınırı elde etmenin doğru yolu `count` Aşağıdaki örnekte gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-272">The correct way to achieve the limit of three `count` increments is shown in the following example:</span></span>

```razor
<p>Count: @count<p>

@if (count < 3)
{
    <button @onclick="IncrementCount" value="Increment count" />
}

@code 
{
    private int count = 0;

    private void IncrementCount()
    {
        if (count < 3)
        {
            count++;
        }
    }
}
```

<span data-ttu-id="c45f5-273">`if (count < 3) { ... }`Denetimi işleyicinin içine ekleyerek, artırma kararı `count` geçerli uygulama durumuna göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-273">By adding the `if (count < 3) { ... }` check inside the handler, the decision to increment `count` is based on the current app state.</span></span> <span data-ttu-id="c45f5-274">Bu karar, önceki örnekte olduğu gibi Kullanıcı arabiriminin durumunu temel değildir ve bu da geçici olarak eski olabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-274">The decision isn't based on the state of the UI as it was in the previous example, which might be temporarily stale.</span></span>

### <a name="guard-against-multiple-dispatches"></a><span data-ttu-id="c45f5-275">Birden çok gönderine karşı koruma</span><span class="sxs-lookup"><span data-stu-id="c45f5-275">Guard against multiple dispatches</span></span>

<span data-ttu-id="c45f5-276">Bir olay geri çağırması, bir dış hizmetten veya veritabanından veri getirme gibi uzun süre çalışan bir işlemi zaman uyumsuz olarak çağıralıyorsa, bir koruyucu kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-276">If an event callback invokes a long running operation asynchronously, such as fetching data from an external service or database, consider using a guard.</span></span> <span data-ttu-id="c45f5-277">Koruyucu, bir işlem görsel geri bildirimde çalışırken, kullanıcının birden çok işlemi sıraya almasını önleyebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-277">The guard can prevent the user from queueing up multiple operations while the operation is in progress with visual feedback.</span></span> <span data-ttu-id="c45f5-278">Aşağıdaki bileşen kodu, `isLoading` `true` sunucudan verileri alırken olarak ayarlanır `GetForecastAsync` .</span><span class="sxs-lookup"><span data-stu-id="c45f5-278">The following component code sets `isLoading` to `true` while `GetForecastAsync` obtains data from the server.</span></span> <span data-ttu-id="c45f5-279">`isLoading`Olduğunda `true` , düğme Kullanıcı arabiriminde devre dışı bırakılır:</span><span class="sxs-lookup"><span data-stu-id="c45f5-279">While `isLoading` is `true`, the button is disabled in the UI:</span></span>

```razor
@page "/fetchdata"
@using :::no-loc(Blazor):::ServerSample.Data
@inject WeatherForecastService ForecastService

<button disabled="@isLoading" @onclick="UpdateForecasts">Update</button>

@code {
    private bool isLoading;
    private WeatherForecast[] forecasts;

    private async Task UpdateForecasts()
    {
        if (!isLoading)
        {
            isLoading = true;
            forecasts = await ForecastService.GetForecastAsync(DateTime.Now);
            isLoading = false;
        }
    }
}
```

<span data-ttu-id="c45f5-280">Önceki örnekte gösterilen koruma deseninin arka plan işlemi, düzeniyle zaman uyumsuz olarak yürütülürse, bu işlem geçerlidir `async` - `await` .</span><span class="sxs-lookup"><span data-stu-id="c45f5-280">The guard pattern demonstrated in the preceding example works if the background operation is executed asynchronously with the `async`-`await` pattern.</span></span>

### <a name="cancel-early-and-avoid-use-after-dispose"></a><span data-ttu-id="c45f5-281">Erken iptali yapın ve bir-After-Dispose kullanmaktan kaçının</span><span class="sxs-lookup"><span data-stu-id="c45f5-281">Cancel early and avoid use-after-dispose</span></span>

<span data-ttu-id="c45f5-282">[Birden çok gönderilerde koruma](#guard-against-multiple-dispatches) bölümünde açıklandığı gibi bir koruyucu kullanmanın yanı sıra, <xref:System.Threading.CancellationToken> bileşen bırakıldığında uzun süre çalışan işlemleri iptal etmek için bir kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-282">In addition to using a guard as described in the [Guard against multiple dispatches](#guard-against-multiple-dispatches) section, consider using a <xref:System.Threading.CancellationToken> to cancel long-running operations when the component is disposed.</span></span> <span data-ttu-id="c45f5-283">Bu yaklaşımda, bileşenlerden *sonra kullanım-sonrasında Dispose özelliğinden kaçınmanın* sağladığı avantaj vardır:</span><span class="sxs-lookup"><span data-stu-id="c45f5-283">This approach has the added benefit of avoiding *use-after-dispose* in components:</span></span>

```razor
@implements IDisposable

...

@code {
    private readonly CancellationTokenSource TokenSource = 
        new CancellationTokenSource();

    private async Task UpdateForecasts()
    {
        ...

        forecasts = await ForecastService.GetForecastAsync(DateTime.Now, 
            TokenSource.Token);

        if (TokenSource.Token.IsCancellationRequested)
        {
           return;
        }

        ...
    }

    public void Dispose()
    {
        TokenSource.Cancel();
    }
}
```

### <a name="avoid-events-that-produce-large-amounts-of-data"></a><span data-ttu-id="c45f5-284">Büyük miktarlarda veri üreten olaylardan kaçının</span><span class="sxs-lookup"><span data-stu-id="c45f5-284">Avoid events that produce large amounts of data</span></span>

<span data-ttu-id="c45f5-285">Veya gibi bazı DOM olayları `oninput` `onscroll` büyük miktarda veri üretebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-285">Some DOM events, such as `oninput` or `onscroll`, can produce a large amount of data.</span></span> <span data-ttu-id="c45f5-286">Bu olayları :::no-loc(Blazor)::: sunucu uygulamalarında kullanmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-286">Avoid using these events in :::no-loc(Blazor)::: server apps.</span></span>

## <a name="additional-security-guidance"></a><span data-ttu-id="c45f5-287">Ek güvenlik kılavuzu</span><span class="sxs-lookup"><span data-stu-id="c45f5-287">Additional security guidance</span></span>

<span data-ttu-id="c45f5-288">ASP.NET Core uygulamalarının güvenliğini sağlamaya yönelik rehberlik, uygulamalar için geçerlidir :::no-loc(Blazor Server)::: ve aşağıdaki bölümlerde ele alınmıştır:</span><span class="sxs-lookup"><span data-stu-id="c45f5-288">The guidance for securing ASP.NET Core apps apply to :::no-loc(Blazor Server)::: apps and are covered in the following sections:</span></span>

* [<span data-ttu-id="c45f5-289">Günlüğe kaydetme ve hassas veriler</span><span class="sxs-lookup"><span data-stu-id="c45f5-289">Logging and sensitive data</span></span>](#logging-and-sensitive-data)
* [<span data-ttu-id="c45f5-290">HTTPS ile yoldaki bilgileri koruma</span><span class="sxs-lookup"><span data-stu-id="c45f5-290">Protect information in transit with HTTPS</span></span>](#protect-information-in-transit-with-https)
* [<span data-ttu-id="c45f5-291">Siteler arası betik oluşturma (XSS)</span><span class="sxs-lookup"><span data-stu-id="c45f5-291">Cross-site scripting (XSS)</span></span>](#cross-site-scripting-xss)
* [<span data-ttu-id="c45f5-292">Çapraz kaynak koruması</span><span class="sxs-lookup"><span data-stu-id="c45f5-292">Cross-origin protection</span></span>](#cross-origin-protection)
* [<span data-ttu-id="c45f5-293">Tıklama-Jacking</span><span class="sxs-lookup"><span data-stu-id="c45f5-293">Click-jacking</span></span>](#click-jacking)
* [<span data-ttu-id="c45f5-294">Yeniden yönlendirmeleri aç</span><span class="sxs-lookup"><span data-stu-id="c45f5-294">Open redirects</span></span>](#open-redirects)

### <a name="logging-and-sensitive-data"></a><span data-ttu-id="c45f5-295">Günlüğe kaydetme ve hassas veriler</span><span class="sxs-lookup"><span data-stu-id="c45f5-295">Logging and sensitive data</span></span>

<span data-ttu-id="c45f5-296">İstemci ve sunucu arasındaki JS birlikte çalışma etkileşimleri, sunucu günlüklerine <xref:Microsoft.Extensions.Logging.ILogger> örneklerle kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-296">JS interop interactions between the client and server are recorded in the server's logs with <xref:Microsoft.Extensions.Logging.ILogger> instances.</span></span> <span data-ttu-id="c45f5-297">:::no-loc(Blazor)::: gerçek olaylar veya JS birlikte çalışma girişleri ve çıkışları gibi hassas bilgileri günlüğe kaydetmeyi önler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-297">:::no-loc(Blazor)::: avoids logging sensitive information, such as actual events or JS interop inputs and outputs.</span></span>

<span data-ttu-id="c45f5-298">Sunucuda bir hata oluştuğunda, çerçeve istemciye bildirir ve oturumu kapatır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-298">When an error occurs on the server, the framework notifies the client and tears down the session.</span></span> <span data-ttu-id="c45f5-299">Varsayılan olarak, istemci tarayıcının geliştirici araçlarında görünebileceğini belirten genel bir hata iletisi alır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-299">By default, the client receives a generic error message that can be seen in the browser's developer tools.</span></span>

<span data-ttu-id="c45f5-300">İstemci tarafı hatası, çağrı yığınını içermez ve hatanın nedeni hakkında ayrıntı sağlamaz, ancak sunucu günlükleri bu gibi bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-300">The client-side error doesn't include the callstack and doesn't provide detail on the cause of the error, but server logs do contain such information.</span></span> <span data-ttu-id="c45f5-301">Geliştirme amacıyla, önemli hata bilgileri, ayrıntılı hataları etkinleştirerek istemciye kullanılabilir hale getirilebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-301">For development purposes, sensitive error information can be made available to the client by enabling detailed errors.</span></span>

<span data-ttu-id="c45f5-302">JavaScript 'te ayrıntılı hataları etkinleştir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-302">Enable detailed errors in JavaScript with:</span></span>

* <span data-ttu-id="c45f5-303"><xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DetailedErrors?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-303"><xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DetailedErrors?displayProperty=nameWithType>.</span></span>
* <span data-ttu-id="c45f5-304">`DetailedErrors`Olarak ayarlanan yapılandırma anahtarı `true` , uygulama ayarları dosyasında ( `:::no-loc(appsettings.json):::` ) ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-304">The `DetailedErrors` configuration key set to `true`, which can be set in the app settings file (`:::no-loc(appsettings.json):::`).</span></span> <span data-ttu-id="c45f5-305">Anahtar, `ASPNETCORE_DETAILEDERRORS` bir değeri olan ortam değişkeni kullanılarak da ayarlanabilir `true` .</span><span class="sxs-lookup"><span data-stu-id="c45f5-305">The key can also be set using the `ASPNETCORE_DETAILEDERRORS` environment variable with a value of `true`.</span></span>

> [!WARNING]
> <span data-ttu-id="c45f5-306">Internet 'teki istemcilere hata bilgilerini ortaya çıkarmak her zaman kaçınılması gereken bir güvenlik riskidir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-306">Exposing error information to clients on the Internet is a security risk that should always be avoided.</span></span>

### <a name="protect-information-in-transit-with-https"></a><span data-ttu-id="c45f5-307">HTTPS ile yoldaki bilgileri koruma</span><span class="sxs-lookup"><span data-stu-id="c45f5-307">Protect information in transit with HTTPS</span></span>

<span data-ttu-id="c45f5-308">:::no-loc(Blazor Server)::::::no-loc(SignalR):::istemci ve sunucu arasındaki iletişimi kullanır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-308">:::no-loc(Blazor Server)::: uses :::no-loc(SignalR)::: for communication between the client and the server.</span></span> <span data-ttu-id="c45f5-309">:::no-loc(Blazor Server)::: Normalde, genellikle WebSockets olan bir aktarımı kullanır :::no-loc(SignalR)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-309">:::no-loc(Blazor Server)::: normally uses the transport that :::no-loc(SignalR)::: negotiates, which is typically WebSockets.</span></span>

<span data-ttu-id="c45f5-310">:::no-loc(Blazor Server)::: sunucu ile istemci arasında gönderilen verilerin bütünlüğünü ve gizliliğini garanti etmez.</span><span class="sxs-lookup"><span data-stu-id="c45f5-310">:::no-loc(Blazor Server)::: doesn't ensure the integrity and confidentiality of the data sent between the server and the client.</span></span> <span data-ttu-id="c45f5-311">Her zaman HTTPS kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-311">Always use HTTPS.</span></span>

### <a name="cross-site-scripting-xss"></a><span data-ttu-id="c45f5-312">Siteler arası betik oluşturma (XSS)</span><span class="sxs-lookup"><span data-stu-id="c45f5-312">Cross-site scripting (XSS)</span></span>

<span data-ttu-id="c45f5-313">Siteler arası betik oluşturma (XSS), yetkisiz bir tarafın tarayıcı bağlamında rastgele mantık yürütmesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="c45f5-313">Cross-site scripting (XSS) allows an unauthorized party to execute arbitrary logic in the context of the browser.</span></span> <span data-ttu-id="c45f5-314">Güvenliği aşılmış bir uygulama, istemcide rastgele kod çalıştırabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-314">A compromised app could potentially run arbitrary code on the client.</span></span> <span data-ttu-id="c45f5-315">Güvenlik açığı, sunucuda büyük olasılıkla çok sayıda kötü amaçlı eylem gerçekleştirmek için kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-315">The vulnerability could be used to potentially perform a number of malicious actions against the server:</span></span>

* <span data-ttu-id="c45f5-316">Sahte/geçersiz olayları sunucuya gönderme.</span><span class="sxs-lookup"><span data-stu-id="c45f5-316">Dispatch fake/invalid events to the server.</span></span>
* <span data-ttu-id="c45f5-317">Dağıtım başarısız/geçersiz işleme tamamlama.</span><span class="sxs-lookup"><span data-stu-id="c45f5-317">Dispatch fail/invalid render completions.</span></span>
* <span data-ttu-id="c45f5-318">İşleme tamamlamamasını gönderdikten kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-318">Avoid dispatching render completions.</span></span>
* <span data-ttu-id="c45f5-319">JavaScript 'ten .NET 'e birlikte çalışma çağrıları gönderme.</span><span class="sxs-lookup"><span data-stu-id="c45f5-319">Dispatch interop calls from JavaScript to .NET.</span></span>
* <span data-ttu-id="c45f5-320">.NET 'ten JavaScript 'e birlikte çalışma çağrılarının yanıtını değiştirme.</span><span class="sxs-lookup"><span data-stu-id="c45f5-320">Modify the response of interop calls from .NET to JavaScript.</span></span>
* <span data-ttu-id="c45f5-321">.NET ile JS birlikte çalışma sonuçlarına dağıtma kullanmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-321">Avoid dispatching .NET to JS interop results.</span></span>

<span data-ttu-id="c45f5-322">:::no-loc(Blazor Server):::Framework, önceki tehditlere karşı korumak için gereken adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-322">The :::no-loc(Blazor Server)::: framework takes steps to protect against some of the preceding threats:</span></span>

* <span data-ttu-id="c45f5-323">İstemci, işleme toplu işlerini bildirmeden, yeni UI güncellemeleri oluşturmayı durduruyor.</span><span class="sxs-lookup"><span data-stu-id="c45f5-323">Stops producing new UI updates if the client isn't acknowledging render batches.</span></span> <span data-ttu-id="c45f5-324">İle yapılandırılır <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.MaxBufferedUnacknowledgedRenderBatches?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-324">Configured with <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.MaxBufferedUnacknowledgedRenderBatches?displayProperty=nameWithType>.</span></span>
* <span data-ttu-id="c45f5-325">İstemciden bir yanıt almadan bir dakikadan sonra herhangi bir .NET için JavaScript çağrısı süresi.</span><span class="sxs-lookup"><span data-stu-id="c45f5-325">Times out any .NET to JavaScript call after one minute without receiving a response from the client.</span></span> <span data-ttu-id="c45f5-326">İle yapılandırılır <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.JSInteropDefaultCallTimeout?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-326">Configured with <xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.JSInteropDefaultCallTimeout?displayProperty=nameWithType>.</span></span>
* <span data-ttu-id="c45f5-327">JS birlikte çalışması sırasında tarayıcıdan gelen tüm girişte temel doğrulama gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-327">Performs basic validation on all input coming from the browser during JS interop:</span></span>
  * <span data-ttu-id="c45f5-328">.NET başvuruları geçerli ve .NET yöntemi tarafından beklenen türde.</span><span class="sxs-lookup"><span data-stu-id="c45f5-328">.NET references are valid and of the type expected by the .NET method.</span></span>
  * <span data-ttu-id="c45f5-329">Veriler hatalı biçimlendirilmemiş.</span><span class="sxs-lookup"><span data-stu-id="c45f5-329">The data isn't malformed.</span></span>
  * <span data-ttu-id="c45f5-330">Yöntem için doğru sayıda bağımsız değişken, yükte bulunur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-330">The correct number of arguments for the method are present in the payload.</span></span>
  * <span data-ttu-id="c45f5-331">Yöntemi çağırmadan önce bağımsız değişkenler veya sonuç doğru şekilde seri durumdan çıkarılmış olabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-331">The arguments or result can be deserialized correctly before invoking the method.</span></span>
* <span data-ttu-id="c45f5-332">Tarayıcıdan gönderilen olaylardan gelen tüm girişte temel doğrulama gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-332">Performs basic validation in all input coming from the browser from dispatched events:</span></span>
  * <span data-ttu-id="c45f5-333">Olayın geçerli bir türü vardır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-333">The event has a valid type.</span></span>
  * <span data-ttu-id="c45f5-334">Olay verilerinin serisi kaldırılamaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-334">The data for the event can be deserialized.</span></span>
  * <span data-ttu-id="c45f5-335">Olayla ilişkili bir olay işleyicisi var.</span><span class="sxs-lookup"><span data-stu-id="c45f5-335">There's an event handler associated with the event.</span></span>

<span data-ttu-id="c45f5-336">Framework 'ün uyguladığı korumalarına ek olarak, tehditlere karşı korumak ve uygun işlemleri gerçekleştirmek için uygulamanın geliştirici tarafından kodlanmış olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-336">In addition to the safeguards that the framework implements, the app must be coded by the developer to safeguard against threats and take appropriate actions:</span></span>

* <span data-ttu-id="c45f5-337">Olayları işlerken her zaman verileri doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-337">Always validate data when handling events.</span></span>
* <span data-ttu-id="c45f5-338">Geçersiz veri aldıktan sonra uygun eylemi gerçekleştirin:</span><span class="sxs-lookup"><span data-stu-id="c45f5-338">Take appropriate action upon receiving invalid data:</span></span>
  * <span data-ttu-id="c45f5-339">Verileri yoksayın ve döndürün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-339">Ignore the data and return.</span></span> <span data-ttu-id="c45f5-340">Bu, uygulamanın istekleri işlemeye devam etmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-340">This allows the app to continue processing requests.</span></span>
  * <span data-ttu-id="c45f5-341">Uygulama girişin meşru olduğunu belirlerse ve meşru istemci tarafından üretilemeyecek bir özel durum oluşturun.</span><span class="sxs-lookup"><span data-stu-id="c45f5-341">If the app determines that the input is illegitimate and couldn't be produced by legitimate client, throw an exception.</span></span> <span data-ttu-id="c45f5-342">Bir özel durum oluşturmak devre dışı olarak oturum kapatır ve oturumu sonlandırır.</span><span class="sxs-lookup"><span data-stu-id="c45f5-342">Throwing an exception tears down the circuit and ends the session.</span></span>
* <span data-ttu-id="c45f5-343">Günlüklere dahil olan işleme toplu işlemleri tarafından sağlanan hata iletisine güvenmeyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-343">Don't trust the error message provided by render batch completions included in the logs.</span></span> <span data-ttu-id="c45f5-344">Hata istemci tarafından sağlanır ve istemcinin güvenliği tehlikeye aşmış olabileceğinden genellikle güvenilemez.</span><span class="sxs-lookup"><span data-stu-id="c45f5-344">The error is provided by the client and can't generally be trusted, as the client might be compromised.</span></span>
* <span data-ttu-id="c45f5-345">JS birlikte çalışma çağrılarında, JavaScript ve .NET yöntemleri arasında her iki yönde de girişe güvenmeyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-345">Don't trust the input on JS interop calls in either direction between JavaScript and .NET methods.</span></span>
* <span data-ttu-id="c45f5-346">Bağımsız değişkenlerin veya sonuçların doğru şekilde seri durumdan çıkarılsa bile, uygulama bağımsız değişkenlerin ve sonuçların içeriğinin geçerli olduğunu doğrulamaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-346">The app is responsible for validating that the content of arguments and results are valid, even if the arguments or results are correctly deserialized.</span></span>

<span data-ttu-id="c45f5-347">Bir XSS Güvenlik açığının mevcut olması için, uygulamanın işlenen sayfada Kullanıcı girişini içermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-347">For a XSS vulnerability to exist, the app must incorporate user input in the rendered page.</span></span> <span data-ttu-id="c45f5-348">:::no-loc(Blazor Server)::: bileşenler bir `.razor` dosyadaki biçimlendirmenin yordamsal C# mantığına dönüştürülebileceği bir derleme zamanı adımı yürütür.</span><span class="sxs-lookup"><span data-stu-id="c45f5-348">:::no-loc(Blazor Server)::: components execute a compile-time step where the markup in a `.razor` file is transformed into procedural C# logic.</span></span> <span data-ttu-id="c45f5-349">Çalışma zamanında C# mantığı öğeleri, metni ve alt bileşenleri açıklayan bir *işleme ağacı* oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-349">At runtime, the C# logic builds a *render tree* describing the elements, text, and child components.</span></span> <span data-ttu-id="c45f5-350">Bu, tarayıcı DOM 'a bir JavaScript yönergeleri dizisi aracılığıyla uygulanır (veya prerendering durumunda HTML olarak serileştirilir):</span><span class="sxs-lookup"><span data-stu-id="c45f5-350">This is applied to the browser's DOM via a sequence of JavaScript instructions (or is serialized to HTML in the case of prerendering):</span></span>

* <span data-ttu-id="c45f5-351">Normal sözdizimi aracılığıyla işlenen Kullanıcı girişi :::no-loc(Razor)::: (örneğin, `@someStringValue` ), :::no-loc(Razor)::: sözdizimi yalnızca metin YAZABILECEĞINDEN komutlar aracılığıyla Dom 'A eklendiğinden bir XSS Güvenlik Açığı sunmaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-351">User input rendered via normal :::no-loc(Razor)::: syntax (for example, `@someStringValue`) doesn't expose a XSS vulnerability because the :::no-loc(Razor)::: syntax is added to the DOM via commands that can only write text.</span></span> <span data-ttu-id="c45f5-352">Değer HTML biçimlendirmesi içerse bile, değer statik metin olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-352">Even if the value includes HTML markup, the value is displayed as static text.</span></span> <span data-ttu-id="c45f5-353">Prerendering olduğunda çıktı HTML kodlamalı olur ve bu da içeriği statik metin olarak görüntüler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-353">When prerendering, the output is HTML-encoded, which also displays the content as static text.</span></span>
* <span data-ttu-id="c45f5-354">Betik etiketlerine izin verilmez ve uygulamanın bileşen işleme ağacına dahil edilmemelidir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-354">Script tags aren't allowed and shouldn't be included in the app's component render tree.</span></span> <span data-ttu-id="c45f5-355">Bir komut dosyası etiketi bir bileşenin biçimlendirmesinde yer alıyorsa, derleme zamanı hatası oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-355">If a script tag is included in a component's markup, a compile-time error is generated.</span></span>
* <span data-ttu-id="c45f5-356">Bileşen yazarları, kullanmadan C# içindeki bileşenleri yazabilir :::no-loc(Razor)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-356">Component authors can author components in C# without using :::no-loc(Razor):::.</span></span> <span data-ttu-id="c45f5-357">Bileşen yazarı, çıkış yayırken doğru API 'Leri kullanmaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-357">The component author is responsible for using the correct APIs when emitting output.</span></span> <span data-ttu-id="c45f5-358">Örneğin, `builder.AddContent(0, someUserSuppliedString)` *not* `builder.AddMarkupContent(0, someUserSuppliedString)` ikinci olarak bir XSS Güvenlik Açığı oluşturmasından dolayı değil kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-358">For example, use `builder.AddContent(0, someUserSuppliedString)` and *not* `builder.AddMarkupContent(0, someUserSuppliedString)`, as the latter could create a XSS vulnerability.</span></span>

<span data-ttu-id="c45f5-359">XSS saldırılarına karşı koruma kapsamında, [Içerik güvenlik ilkesi (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP)gibi XSS azaltmalarını gerçekleştirmeyi düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-359">As part of protecting against XSS attacks, consider implementing XSS mitigations, such as [Content Security Policy (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP).</span></span>

<span data-ttu-id="c45f5-360">Daha fazla bilgi için bkz. <xref:security/cross-site-scripting>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-360">For more information, see <xref:security/cross-site-scripting>.</span></span>

### <a name="cross-origin-protection"></a><span data-ttu-id="c45f5-361">Çapraz kaynak koruması</span><span class="sxs-lookup"><span data-stu-id="c45f5-361">Cross-origin protection</span></span>

<span data-ttu-id="c45f5-362">Çapraz kaynak saldırıları, sunucuya yönelik bir eylem gerçekleştiren farklı bir kaynaktan gelen bir istemciyi içerir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-362">Cross-origin attacks involve a client from a different origin performing an action against the server.</span></span> <span data-ttu-id="c45f5-363">Kötü amaçlı eylem, genellikle bir GET isteği veya bir form GÖNDERISINI (siteler arası Istek sahteciliği, CSRF), ancak kötü amaçlı bir WebSocket açmak da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="c45f5-363">The malicious action is typically a GET request or a form POST (Cross-Site Request Forgery, CSRF), but opening a malicious WebSocket is also possible.</span></span> <span data-ttu-id="c45f5-364">:::no-loc(Blazor Server)::: uygulamalar, [ :::no-loc(SignalR)::: hub protokolünü kullanan diğer tüm uygulamaların aynısını](xref:signalr/security)sunar:</span><span class="sxs-lookup"><span data-stu-id="c45f5-364">:::no-loc(Blazor Server)::: apps offer [the same guarantees that any other :::no-loc(SignalR)::: app using the hub protocol offer](xref:signalr/security):</span></span>

* <span data-ttu-id="c45f5-365">:::no-loc(Blazor Server)::: uygulamalara ek ölçüler alınana kadar, uygulamalara çapraz kaynak erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-365">:::no-loc(Blazor Server)::: apps can be accessed cross-origin unless additional measures are taken to prevent it.</span></span> <span data-ttu-id="c45f5-366">Çapraz kaynak erişimini devre dışı bırakmak için, işlem hattındaki CORS 'yi işlem hattına ekleyerek ve <xref:Microsoft.AspNetCore.Cors.DisableCorsAttribute> :::no-loc(Blazor)::: uç nokta meta verilerine ekleyerek veya [ :::no-loc(SignalR)::: arası kaynak paylaşımı için yapılandırarak](xref:signalr/security#cross-origin-resource-sharing)izin verilen çıkış noktaları kümesini sınırlandırarak devre dışı bırakın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-366">To disable cross-origin access, either disable CORS in the endpoint by adding the CORS middleware to the pipeline and adding the <xref:Microsoft.AspNetCore.Cors.DisableCorsAttribute> to the :::no-loc(Blazor)::: endpoint metadata or limit the set of allowed origins by [configuring :::no-loc(SignalR)::: for cross-origin resource sharing](xref:signalr/security#cross-origin-resource-sharing).</span></span>
* <span data-ttu-id="c45f5-367">CORS etkinse, CORS yapılandırmasına bağlı olarak uygulamayı korumak için ek adımlar gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-367">If CORS is enabled, extra steps might be required to protect the app depending on the CORS configuration.</span></span> <span data-ttu-id="c45f5-368">CORS genel olarak etkinleştirilmişse, :::no-loc(Blazor Server)::: <xref:Microsoft.AspNetCore.Cors.DisableCorsAttribute> <xref:Microsoft.AspNetCore.Builder.ComponentEndpointRouteBuilderExtensions.Map:::no-loc(Blazor):::Hub%2A> uç nokta yol Oluşturucu ' da çağrıldıktan sonra meta veri noktası meta verilerine eklenen CORS, Hub için devre dışı bırakılabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-368">If CORS is globally enabled, CORS can be disabled for the :::no-loc(Blazor Server)::: hub by adding the <xref:Microsoft.AspNetCore.Cors.DisableCorsAttribute> metadata to the endpoint metadata after calling <xref:Microsoft.AspNetCore.Builder.ComponentEndpointRouteBuilderExtensions.Map:::no-loc(Blazor):::Hub%2A> on the endpoint route builder.</span></span>

<span data-ttu-id="c45f5-369">Daha fazla bilgi için bkz. <xref:security/anti-request-forgery>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-369">For more information, see <xref:security/anti-request-forgery>.</span></span>

### <a name="click-jacking"></a><span data-ttu-id="c45f5-370">Tıklama-Jacking</span><span class="sxs-lookup"><span data-stu-id="c45f5-370">Click-jacking</span></span>

<span data-ttu-id="c45f5-371">Tıklama-Jacking `<iframe>` , kullanıcıyı saldırı kapsamındaki sitede eylemler gerçekleştirmeye ikna etmek için bir sitenin farklı bir kaynaktan bir site içinde işlenmesini içerir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-371">Click-jacking involves rendering a site as an `<iframe>` inside a site from a different origin in order to trick the user into performing actions on the site under attack.</span></span>

<span data-ttu-id="c45f5-372">Bir uygulamanın içinde işlemesini korumak için `<iframe>` [Içerik güvenlik IlkesI (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) ve `X-Frame-Options` üst bilgi kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-372">To protect an app from rendering inside of an `<iframe>`, use [Content Security Policy (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) and the `X-Frame-Options` header.</span></span> <span data-ttu-id="c45f5-373">Daha fazla bilgi için bkz. [MDN Web belgeleri: X-Frame-Options](https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Frame-Options).</span><span class="sxs-lookup"><span data-stu-id="c45f5-373">For more information, see [MDN web docs: X-Frame-Options](https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Frame-Options).</span></span>

### <a name="open-redirects"></a><span data-ttu-id="c45f5-374">Yeniden yönlendirmeleri aç</span><span class="sxs-lookup"><span data-stu-id="c45f5-374">Open redirects</span></span>

<span data-ttu-id="c45f5-375">Bir :::no-loc(Blazor Server)::: uygulama oturumu başladığında, sunucu, oturum başlatma işleminin bir parçası olarak gönderilen URL 'lerin temel doğrulamasını gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-375">When a :::no-loc(Blazor Server)::: app session starts, the server performs basic validation of the URLs sent as part of starting the session.</span></span> <span data-ttu-id="c45f5-376">Framework, devre oluşturmadan önce temel URL 'nin geçerli URL 'nin bir üst olduğunu denetler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-376">The framework checks that the base URL is a parent of the current URL before establishing the circuit.</span></span> <span data-ttu-id="c45f5-377">Framework tarafından başka denetim yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="c45f5-377">No additional checks are performed by the framework.</span></span>

<span data-ttu-id="c45f5-378">Kullanıcı istemcide bir bağlantı seçtiğinde, bağlantının URL 'SI sunucuya gönderilir ve bu işlem gerçekleştirilecek eylemi belirler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-378">When a user selects a link on the client, the URL for the link is sent to the server, which determines what action to take.</span></span> <span data-ttu-id="c45f5-379">Örneğin, uygulama bir istemci tarafı gezintisi gerçekleştirebilir veya tarayıcıya yeni konuma gidemeyeceğini belirtebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-379">For example, the app may perform a client-side navigation or indicate to the browser to go to the new location.</span></span>

<span data-ttu-id="c45f5-380">Bileşenler, program aracılığıyla aracılığıyla gezinme isteklerini de tetikleyebilirler <xref:Microsoft.AspNetCore.Components.NavigationManager> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-380">Components can also trigger navigation requests programatically through the use of <xref:Microsoft.AspNetCore.Components.NavigationManager>.</span></span> <span data-ttu-id="c45f5-381">Bu tür senaryolarda, uygulama bir istemci tarafı gezintisi gerçekleştirebilir veya tarayıcıya yeni konuma gidebileceğini gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-381">In such scenarios, the app might perform a client-side navigation or indicate to the browser to go to the new location.</span></span>

<span data-ttu-id="c45f5-382">Bileşenler:</span><span class="sxs-lookup"><span data-stu-id="c45f5-382">Components must:</span></span>

* <span data-ttu-id="c45f5-383">Gezinti çağrısı bağımsız değişkenlerinin bir parçası olarak Kullanıcı girişini kullanmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-383">Avoid using user input as part of the navigation call arguments.</span></span>
* <span data-ttu-id="c45f5-384">Hedefin uygulama tarafından izin verildiğinden emin olmak için bağımsız değişkenleri doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-384">Validate arguments to ensure that the target is allowed by the app.</span></span>

<span data-ttu-id="c45f5-385">Aksi takdirde, kötü niyetli bir kullanıcı tarayıcıyı saldırgan tarafından denetlenen bir siteye gitmesini zorlayabilir.</span><span class="sxs-lookup"><span data-stu-id="c45f5-385">Otherwise, a malicious user can force the browser to go to an attacker-controlled site.</span></span> <span data-ttu-id="c45f5-386">Bu senaryoda, saldırgan, yöntemi çağırmanın bir parçası olarak uygulamayı bazı kullanıcı girişlerini kullanarak ' ye püf ediyor <xref:Microsoft.AspNetCore.Components.NavigationManager.NavigateTo%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c45f5-386">In this scenario, the attacker tricks the app into using some user input as part of the invocation of the <xref:Microsoft.AspNetCore.Components.NavigationManager.NavigateTo%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="c45f5-387">Bu öneri, uygulamanın bir parçası olarak bağlantılar işlenirken de geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-387">This advice also applies when rendering links as part of the app:</span></span>

* <span data-ttu-id="c45f5-388">Mümkünse, göreli bağlantıları kullanın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-388">If possible, use relative links.</span></span>
* <span data-ttu-id="c45f5-389">Mutlak bağlantı hedeflerinin bir sayfaya dahil etmeden önce geçerli olduğunu doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-389">Validate that absolute link destinations are valid before including them in a page.</span></span>

<span data-ttu-id="c45f5-390">Daha fazla bilgi için bkz. <xref:security/preventing-open-redirects>.</span><span class="sxs-lookup"><span data-stu-id="c45f5-390">For more information, see <xref:security/preventing-open-redirects>.</span></span>

## <a name="security-checklist"></a><span data-ttu-id="c45f5-391">Güvenlik denetim listesi</span><span class="sxs-lookup"><span data-stu-id="c45f5-391">Security checklist</span></span>

<span data-ttu-id="c45f5-392">Aşağıdaki güvenlik konuları listesi ayrıntılı değildir:</span><span class="sxs-lookup"><span data-stu-id="c45f5-392">The following list of security considerations isn't comprehensive:</span></span>

* <span data-ttu-id="c45f5-393">Etkinliklerden bağımsız değişkenleri doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-393">Validate arguments from events.</span></span>
* <span data-ttu-id="c45f5-394">Giriş ve, JS birlikte çalışma çağrılarındaki sonuçları doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-394">Validate inputs and results from JS interop calls.</span></span>
* <span data-ttu-id="c45f5-395">.NET için JS birlikte çalışabilirlik çağrılarına yönelik kullanıcı girişini kullanmaktan (veya önceden doğrulama) kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-395">Avoid using (or validate beforehand) user input for .NET to JS interop calls.</span></span>
* <span data-ttu-id="c45f5-396">İstemcinin ilişkisiz miktarda bellek ayırmasını engelleyin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-396">Prevent the client from allocating an unbound amount of memory.</span></span>
  * <span data-ttu-id="c45f5-397">Bileşen içindeki veriler.</span><span class="sxs-lookup"><span data-stu-id="c45f5-397">Data within the component.</span></span>
  * <span data-ttu-id="c45f5-398">`DotNetObject` istemciye döndürülen başvurular.</span><span class="sxs-lookup"><span data-stu-id="c45f5-398">`DotNetObject` references returned to the client.</span></span>
* <span data-ttu-id="c45f5-399">Birden çok gönderine karşı koruma.</span><span class="sxs-lookup"><span data-stu-id="c45f5-399">Guard against multiple dispatches.</span></span>
* <span data-ttu-id="c45f5-400">Bileşen atıldığı zaman uzun süre çalışan işlemleri iptal edin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-400">Cancel long-running operations when the component is disposed.</span></span>
* <span data-ttu-id="c45f5-401">Büyük miktarlarda veri üreten olaylardan kaçının.</span><span class="sxs-lookup"><span data-stu-id="c45f5-401">Avoid events that produce large amounts of data.</span></span>
* <span data-ttu-id="c45f5-402">Kullanıcı girişini, çağrıların bir parçası olarak kullanmaktan kaçının <xref:Microsoft.AspNetCore.Components.NavigationManager.NavigateTo%2A?displayProperty=nameWithType> ve daha önce kaçınılmaz bir şekilde, URL 'ler için Kullanıcı girişini, izin verilen kaynaklar kümesine göre doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="c45f5-402">Avoid using user input as part of calls to <xref:Microsoft.AspNetCore.Components.NavigationManager.NavigateTo%2A?displayProperty=nameWithType> and validate user input for URLs against a set of allowed origins first if unavoidable.</span></span>
* <span data-ttu-id="c45f5-403">Kullanıcı arabiriminin durumuna göre yetkilendirme kararları yapmayın, ancak yalnızca bileşen durumudur.</span><span class="sxs-lookup"><span data-stu-id="c45f5-403">Don't make authorization decisions based on the state of the UI but only from component state.</span></span>
* <span data-ttu-id="c45f5-404">XSS saldırılarına karşı korunmak için [Içerik güvenlik ilkesi 'ni (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-404">Consider using [Content Security Policy (CSP)](https://developer.mozilla.org/docs/Web/HTTP/CSP) to protect against XSS attacks.</span></span>
* <span data-ttu-id="c45f5-405">Tıklama-Jacking 'e karşı korumak için CSP ve [X çerçeve seçeneklerini](https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Frame-Options) kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="c45f5-405">Consider using CSP and [X-Frame-Options](https://developer.mozilla.org/docs/Web/HTTP/Headers/X-Frame-Options) to protect against click-jacking.</span></span>
* <span data-ttu-id="c45f5-406">CORS 'yi etkinleştirirken veya uygulamalar için CORS 'yi açıkça devre dışı bıraktığınızda CORS ayarlarının uygun olduğundan emin olun :::no-loc(Blazor)::: .</span><span class="sxs-lookup"><span data-stu-id="c45f5-406">Ensure CORS settings are appropriate when enabling CORS or explicitly disable CORS for :::no-loc(Blazor)::: apps.</span></span>
* <span data-ttu-id="c45f5-407">Uygulamanın sunucu tarafı sınırlarının kabul :::no-loc(Blazor)::: edilemez bir risk düzeyi olmadan kabul edilebilir bir kullanıcı deneyimi sağlamasına emin olmak için test edin.</span><span class="sxs-lookup"><span data-stu-id="c45f5-407">Test to ensure that the server-side limits for the :::no-loc(Blazor)::: app provide an acceptable user experience without unacceptable levels of risk.</span></span>
